import { describe, it, expect } from 'vitest'

import { uniqueTag } from './uniqueTag'

describe('uniqueTag', () => {
  it('should return tag with hashed id describing the workflow generated', () => {
    const context = { owner: 'octocat', repo: 'hello-world', issueNumber: 1 }
    const hashedId = 'ab9d1a5ad3256cbba8c22a27e3c4ef3dabb0f0289ea1f3505ac4537afb1e92bf'
    const tag = `<!-- This comment was generated by dependency-cruiser-report-action. id: ${hashedId} -->`
    expect(uniqueTag(context)).toBe(tag)
  })
})
