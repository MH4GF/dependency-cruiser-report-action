import { uniqueTag } from './uniqueTag'

type Params = {
  owner: string
  repo: string
  issueNumber: number
  sha: string
  cmdText: string
  mermaidText: string
}

export const reportBody = (params: Params) => {
  const url = 'https://github.com/MH4GF/dependency-cruiser-report-action'

  return `${uniqueTag({ owner: params.owner, repo: params.repo, issueNumber: params.issueNumber })}
# dependency-cruiser report

visualize dependenices of changed files.

\`\`\`mermaid
${params.mermaidText}
\`\`\`

<details>
<summary>execute command</summary>

\`\`\`
${params.cmdText}
\`\`\`

</details>

<p align="right">Report generated by <a href="${url}">dependency-cruiser report action</a> ${
    params.sha
  } </p>
`
}
